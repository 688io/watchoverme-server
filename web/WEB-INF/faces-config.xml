<?xml version="1.0" encoding="utf-8"?>
<faces-config xmlns="http://java.sun.com/xml/ns/javaee"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facesconfig_2_0.xsd"
              version="2.0">
	
    <application>
        <el-resolver>org.springframework.web.jsf.el.SpringBeanFacesELResolver</el-resolver>
        <resource-bundle>
            <base-name>message</base-name>
            <var>msgs</var>
        </resource-bundle>
        <locale-config>
            <default-locale>en_US</default-locale>
            <supported-locale>ar</supported-locale>
            <supported-locale>es</supported-locale>
        </locale-config>
        <message-bundle>message</message-bundle>
    </application>

    <validator>
        <validator-id>checkvalidemail</validator-id>
        <validator-class>com.secqme.web.jsf.validator.EmailValidator</validator-class>
    </validator>

    <converter>
        <converter-id>com.secqme.web.jsf.util.CountryConverter</converter-id>
        <converter-class>com.secqme.web.jsf.util.CountryConverter</converter-class>
    </converter>

    <managed-bean>
        <managed-bean-name>loginBean</managed-bean-name>
        <managed-bean-class>com.secqme.web.jsf.mbean.LoginBean</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-property>
            <property-name>userManager</property-name>
            <value>#{myUserManager}</value>
        </managed-property>
        <managed-property>
            <property-name>billingManager</property-name>
            <value>#{myBillingManager}</value>
        </managed-property>
        <managed-property>
            <property-name>eventManager</property-name>
            <value>#{myEventManager}</value>
        </managed-property>
        <managed-property>
            <property-name>sysAdminUtil</property-name>
            <value>#{systemAdminUtil}</value>
        </managed-property>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>billPaymentBean</managed-bean-name>
        <managed-bean-class>com.secqme.web.jsf.mbean.BillingPaymentBean</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-property>
            <property-name>billingManager</property-name>
            <value>#{myBillingManager}</value>
        </managed-property>
        <managed-property>
            <property-name>loginBean</property-name>
            <value>#{loginBean}</value>
        </managed-property>
        <managed-property>
            <property-name>paymentManager</property-name>
            <value>#{myPaymentManager}</value>
        </managed-property>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>resetPasswordBean</managed-bean-name>
        <managed-bean-class>com.secqme.web.jsf.mbean.ResetPasswordBean</managed-bean-class>
        <managed-bean-scope>view</managed-bean-scope>
        <managed-property>
            <property-name>userManager</property-name>
            <value>#{myUserManager}</value>
        </managed-property>
        <managed-property>
            <property-name>bundle</property-name>
            <value>#{msgs}</value>
        </managed-property>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>trackingBean</managed-bean-name>
        <managed-bean-class>com.secqme.web.jsf.mbean.TrackingBean</managed-bean-class>
        <managed-bean-scope>view</managed-bean-scope>
        <managed-property>
            <property-name>trackingManager</property-name>
            <value>#{myTrackingManager}</value>
        </managed-property>
        <managed-property>
            <property-name>eventManager</property-name>
            <value>#{myEventManager}</value>
        </managed-property>
        <managed-property>
            <property-name>mediaFileManager</property-name>
            <value>#{s3MediaFileManager}</value>
        </managed-property>
        <managed-property>
            <property-name>localeManager</property-name>
            <value>#{localeManager}</value>
        </managed-property>
        <managed-property>
            <property-name>locationUtil</property-name>
            <value>#{locationUtil}</value>
        </managed-property>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>giftBean</managed-bean-name>
        <managed-bean-class>com.secqme.web.jsf.mbean.GiftBean</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-property>
            <property-name>userManager</property-name>
            <value>#{myUserManager}</value>
        </managed-property>
        <managed-property>
            <property-name>smsManager</property-name>
            <value>#{smsManager}</value>
        </managed-property>
        <managed-property>
            <property-name>paymentManager</property-name>
            <value>#{myPaymentManager}</value>
        </managed-property>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>mandrillUnsubscribeEmailBean</managed-bean-name>
        <managed-bean-class>com.secqme.web.jsf.mbean.UnsubscribeNewsletterBean</managed-bean-class>
        <managed-bean-scope>request</managed-bean-scope>
        <managed-property>
            <property-name>userManager</property-name>
            <value>#{myUserManager}</value>
        </managed-property>
        <managed-property>
            <property-name>recipientEmail</property-name>
            <value>#{param.email}</value>
        </managed-property>
        <managed-property>
            <property-name>subscribeToken</property-name>
            <value>#{param.token}</value>
        </managed-property>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>manageEmergencyContactBean</managed-bean-name>
        <managed-bean-class>com.secqme.web.jsf.mbean.ManageEmergencyContactBean</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-property>
            <property-name>contactDAO</property-name>
            <value>#{contactDAO}</value>
        </managed-property>
        <managed-property>
            <property-name>userManager</property-name>
            <value>#{myUserManager}</value>
        </managed-property>
        <managed-property>
            <property-name>contactManager</property-name>
            <value>#{contactManager}</value>
        </managed-property>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>verifyEmailBean</managed-bean-name>
        <managed-bean-class>com.secqme.web.jsf.mbean.VerifyEmailBean</managed-bean-class>
        <managed-bean-scope>request</managed-bean-scope>
        <managed-property>
            <property-name>userManager</property-name>
            <value>#{myUserManager}</value>
        </managed-property>
        <managed-property>
            <property-name>emailVerificationToken</property-name>
            <value>#{param.code}</value>
        </managed-property>
    </managed-bean>

    <navigation-rule>
        <from-view-id>/wom/acceptEmergencyContact.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>invalidToken</from-outcome>
            <to-view-id>/wom/emergencyContact-invalid.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>error</from-outcome>
            <to-view-id>/wom/error.xhtml</to-view-id>
        </navigation-case>
    </navigation-rule>

    <navigation-rule>
        <from-view-id>/wom/gift.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>purchaseValidationSuccess</from-outcome>
            <to-view-id>/wom/gift_result.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>purchaseValidationFailed</from-outcome>
            <to-view-id>/wom/gift.xhtml</to-view-id>
        </navigation-case>
    </navigation-rule>

    <navigation-rule>
        <from-view-id>/wom/unsubscribe.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>processUnsubscribeSuccess</from-outcome>
            <to-view-id>/wom/unsubscribe-success.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>error</from-outcome>
            <to-view-id>/wom/error.xhtml</to-view-id>
        </navigation-case>
    </navigation-rule>

    <navigation-rule>
        <from-view-id>/wom/rejectEmergencyContact.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>successRemoveEmergencyContact</from-outcome>
            <to-view-id>/wom/rejectEmergencyContact-success.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>invalidToken</from-outcome>
            <to-view-id>/wom/emergencyContact-invalid.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>error</from-outcome>
            <to-view-id>/wom/error.xhtml</to-view-id>
        </navigation-case>
    </navigation-rule>

    <navigation-rule>
        <from-view-id>/wom/resetPassword.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>resetPasswordSuccess</from-outcome>
            <to-view-id>/wom/resetPassword-success.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>invalidToken</from-outcome>
            <to-view-id>/wom/resetPassword-invalid.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>error</from-outcome>
            <to-view-id>/wom/error.xhtml</to-view-id>
        </navigation-case>
    </navigation-rule>
</faces-config>
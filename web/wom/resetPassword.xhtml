<ui:composition
        template="/WEB-INF/templates/v1/default.xhtml"
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://java.sun.com/jsf/facelets">
    <ui:define name="metadata">
        <f:metadata>
            <f:event type="preRenderView" listener="#{resetPasswordBean.verifyToken}"/>
        </f:metadata>
    </ui:define>
    <ui:define name="content">
        <div class="track-head">
            <div class="container">
                <h2 class="pull-left"><h:outputText value="#{msgs['resetpassword.title']}" /></h2>
            </div>
        </div>
        <div class="track">
            <div class="container" style="padding-top: 60px; padding-bottom: 80px">
                <h:form id="resetPasswordForm" prependId="false">
                    <f:event listener="#{resetPasswordBean.validatePassword}" type="postValidate" />

                    <div class="form-group">
                        <label for="newPassword" style="max-width: 100%"><h:outputText value="#{msgs['resetpassword.newpassword']}" /></label>
                        <h:inputSecret id="newPassword" value="#{resetPasswordBean.newPassword}" class="form-control" required="true" requiredMessage="#{msgs['resetpassword.error.enterpassword']}" />
                        <h:message for="newPassword" styleClass="help-block" errorClass="text-danger" />
                    </div>

                    <div class="form-group">
                        <label for="newConfirmPassword" style="max-width: 100%"><h:outputText value="#{msgs['resetpassword.confirmpassword']}" /></label>
                        <h:inputSecret id="newConfirmPassword" value="#{resetPasswordBean.newConfirmPassword}" class="form-control" required="true" requiredMessage="#{msgs['resetpassword.error.confirmpassword']}" />
                        <h:message for="newConfirmPassword" styleClass="help-block" errorClass="text-danger" />
                    </div>

                    <h:commandButton value="#{msgs['resetpassword.title']}" action="#{resetPasswordBean.resetUserPassword}" class="btn btn-primary"/>
                </h:form>
            </div>
        </div>
    </ui:define>
</ui:composition>